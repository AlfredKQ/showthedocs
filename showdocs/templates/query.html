{% extends "base.html" %}
{% set active_page = "query" %}

{% block head %}
<style>
#affixed {
    box-shadow: 0 0 15px 10px #ffffff;
}
#container {
    padding-top: 190px;
}
</style>
{% include 'docscss.html' %}
{% endblock %}

{% block body %}
        <svg id="main-canvas" class="canvas"></svg>
{% endblock %}

{% block additionalnav %}
{% set devicon = {
    'nginx': 'devicon-nginx-original colored',
    'postgresql': 'devicon-postgresql-plain',
    'mysql': 'devicon-mysql-plain',
    'gitconfig': 'devicon-git-plain',
}
%}
{% if devicon.get(lang) -%}
<li class="lang"><i class="{{ devicon[lang] }}"></i></li>
{% else %}
<script>
console.log('no devicon (top right corner) defined');
</script>
{% endif %}
<li class="lang"><span style="padding: 0 0; text-transform: none">{{ lang|e }}</span></li>
{% endblock %}

{% block afternav %}
                <div id="query-container">
                    <div id="query-label">query</div>
                    <svg id="query-canvas" class="canvas"><g id="translate-on-scroll"></g></svg>
                    <div id="query-scroller">
                        <svg id="query-canvas-inner" class="canvas"></svg>
                        <div id="query">{{ query }}</div>
                    </div>
                    <div id="query-legend"><div>legend</div><svg id="legend-canvas"></svg></div>
                    <div id="docs-label">docs</div>
                </div>
{% endblock %}
{% block container %}
                <svg id="docs-canvas" class="canvas"></svg>
                <div id="docs">
                    {% for path, contents in docs %}
                        {{- contents -}}
                    {% endfor %}
                </div>
                <div id="docs-scrollbar">
                    <svg id="docs-scrollbar-canvas" class="canvas"></svg>
                </div>
{% endblock %}
{% block afterbody %}
<script>
$(document).ready(function() {
    const affixedheight = rnd($("#affixed").height());
    $('#docs-scrollbar').css('top', affixedheight);
    $("#docs-scrollbar").height(window.innerHeight - affixedheight);

    $("#main-canvas").height(offset('#main').height);
    $("#docs-canvas").height(offset('#main').height - affixedheight);

    initialize();
    scrolltohash();
});

</script>
{% endblock %}
